Функции
=======

- Проигрывание потока.
- Перезапуск проигрывания при обрыве связи.
- Настраиваемый адрес потока.
- Доступ к покдастам.  Пока выводится простой список с возможностью открыть
  страницу эпизода и скачать файл.  В будущем планируется добавить проигрывание
  прямо из программы.


Благодарности
=============

- hakimovis
- iconshock.com (иконка)


BUGS
====

- Нельзя уменьшать окно.
- При перезапуске gst сбрасывается громкость.
- При отсутствии связи программа висит (ждёт пинга или подключения), нужно
  выносить UI в отдельный поток.
- При обрыве связи в чате остаются старые ники?


TODO
====

- Добавить во вкладку "новости" записи из блога, т.к. твиттер иногда выдаёт
  пустой результат поиска.
- Отправка произвольных команд роботу с помощью слэша (/queue).
- Добавить к иконке в трэе индикатор новых сообщений (как в скайпе).
- Добавить проигрывание подкастов.
- Выводить тему чата.
- Обрабатывать падение jabber-бота.
- История прослушанной музыки, со ссылками на last.fm и возможностью
  редактировать свойства.  Для этого, наверное, надо редактор свойств дорожки
  сделать отдельным окном.
- Отслеживать задержку между изменением информации в джаббере и в потоке gst,
  если слишком велика — перезапускать проигрывание (но не чаще раза в 30 минут).
- Разрешить всем пользователям жать skip (доработать ardj, чтобы skip срабатывал
  если запросила ~½ активных слушателей).
- Интеграция в звуковое меню Ubuntu:
  https://wiki.ubuntu.com/SoundMenu
  https://github.com/sunng87/Exaile-Soundmenu-Indicator


Портирование на Windows
=======================

Полезные ссылки:

- http://thp.io/2007/09/pygtk-applications-on-windows.html
- http://unpythonic.blogspot.com/2007/07/pygtk-py2exe-and-inno-setup-for-single.html
- http://www.gstreamer-winbuild.ylatuya.es/doku.php?id=download#developers_files
- http://www.py2exe.org/

- Сборка deb пакетов с помощью distutils:
  https://help.ubuntu.com/community/PythonRecipes/DebianPackage
- https://wiki.ubuntu.com/PackagingGuide


Как работает jabber
===================

Для максимальной эффективности работа вынесена в отдельный тред.
Взаимодействовать с интерфейсом должен только один поток, поэтому
взаимодействие джаббера и интерфейса минимизировано.  Входящие события, о
которых сообщает jabber, бывают следующими:

- Стала известна новая информация о текущей дорожке.
- Пришло сообщение в чат.

Исходящие сообщения:

- Сообщение в чат.
- Голосование за дорожку.
- Редактирование свойств дорожки.

Всё исходящее — это обычные текстовые сообщения.  Они однотипные, достаточно
простой очереди, защищённой блокировками.  Входящие сообщения чата — примерно
то же самое, только в обратном направлении.

Информация о дорожках может выдаваться как очередь пар ключ-значение, то есть в
интерфейсный поток будет приходить набор примерно таких данных:

  ("track_id", "3892")
  ("artist", "Mobil")
  ("title", "The Winter's Story")
  ("labels", "calm electronic instrumental music")

Для надёжности (атомарности) можно передавать полученные данные сразу списком,
чтобы исключить не очень вероятную, но возможную ситуацию, когда пользователь
отправляет изменённое название дорожки, в этот момент меняется свойство
track_id, заголовок устанавливается для другой дорожки.
